---
phase: 01-foundation-compliance
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - layouts/default.vue
  - components/Navigation.vue
  - components/AppFooter.vue
  - assets/css/main.css
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Navigation bar stays at top of page while scrolling (sticky positioning)"
    - "Clicking nav links smooth-scrolls to corresponding sections"
    - "Active section is highlighted in navigation as user scrolls"
    - "Mobile hamburger menu appears on screens < 768px (md breakpoint)"
    - "Mobile menu opens/closes when hamburger is clicked"
  artifacts:
    - path: "layouts/default.vue"
      provides: "Main layout wrapper with nav and footer"
      min_lines: 20
    - path: "components/Navigation.vue"
      provides: "Sticky navigation with smooth scroll and scroll spy"
      min_lines: 80
    - path: "components/AppFooter.vue"
      provides: "Footer container (disclaimers added in plan 01-03)"
      min_lines: 15
    - path: "assets/css/main.css"
      provides: "Global CSS with smooth scroll behavior"
      contains: "scroll-behavior: smooth"
  key_links:
    - from: "layouts/default.vue"
      to: "components/Navigation.vue"
      via: "component import"
      pattern: "<Navigation"
    - from: "components/Navigation.vue"
      to: "window scroll event"
      via: "addEventListener in onMounted"
      pattern: "addEventListener.*scroll"
    - from: "components/Navigation.vue"
      to: "section elements"
      via: "scrollIntoView with smooth behavior"
      pattern: "scrollIntoView.*smooth"
---

<objective>
Create the layout shell with sticky navigation bar, smooth-scroll to sections, scroll spy for active section highlighting, and mobile hamburger menu.

Purpose: This provides the structural foundation for all content. Navigation is the primary way users will interact with the single-page site, and mobile responsiveness is critical for accessibility.

Output: Working navigation with sticky positioning, smooth scroll, active section highlighting, and functional mobile hamburger menu.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-compliance/01-RESEARCH.md
@.planning/phases/01-foundation-compliance/01-01-PLAN.md
</context>

<tasks>

<task type="auto">
  <name>Create global CSS with smooth scroll and base styles</name>
  <files>
    assets/css/main.css
  </files>
  <action>
    Create assets/css/main.css with:

    1. CSS smooth scroll behavior:
    ```css
    html {
      scroll-behavior: smooth;
      scroll-padding-top: 80px; /* Account for fixed nav */
    }
    ```

    2. Base styles for accessibility:
    ```css
    /* Focus styles for keyboard navigation */
    :focus-visible {
      outline: 2px solid currentColor;
      outline-offset: 2px;
    }

    /* Skip to main content link for accessibility */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: #000;
      color: #fff;
      padding: 8px;
      z-index: 100;
    }
    .skip-link:focus {
      top: 0;
    }
    ```

    3. Section anchor offset (for sticky nav):
    ```css
    [id] {
      scroll-margin-top: 80px;
    }
    ```

    Register this CSS in nuxt.config.ts by adding to css array:
    ```ts
    css: ['~/assets/css/main.css']
    ```

    DO NOT add any color-related styles yet - those will come with brand colors in later phases.
  </action>
  <verify>
    1. Check assets/css/main.css exists with scroll-behavior: smooth
    2. Check nuxt.config.ts includes css array pointing to main.css
    3. Run `npm run dev` - no CSS errors
  </verify>
  <done>
    Global CSS created with:
    - Smooth scroll behavior enabled
    - Focus-visible styles for keyboard navigation
    - Skip link styles for accessibility
    - Scroll margin top for sticky nav offset
    - CSS registered in nuxt.config.ts
  </done>
</task>

<task type="auto">
  <name>Create sticky Navigation component with scroll spy</name>
  <files>
    components/Navigation.vue
  </files>
  <action>
    Create components/Navigation.vue with:

    1. **Template structure:**
    - Sticky header using CSS position:sticky
    - Desktop navigation (hidden on mobile)
    - Mobile hamburger button (visible only on mobile)
    - Mobile menu panel (slide-out from right)

    2. **Script logic:**
    - Use ref for mobile menu open state
    - Use ref for scroll state (to add shadow when scrolled)
    - Use ref for active section ID
    - Scroll event handler in onMounted that:
      - Updates isScrolled when window.scrollY > 50
      - Updates activeSection based on scroll position
    - scrollToSection function that:
      - Uses scrollIntoView with { behavior: 'smooth', block: 'start' }
      - Closes mobile menu after navigation
    - Cleanup event listener in onBeforeUnmount

    3. **Navigation sections array:**
    ```ts
    const sections = [
      { id: 'hero', name: 'Home' },
      { id: 'about', name: 'About' },
      { id: 'platform', name: 'Platform' },
      { id: 'gallery', name: 'Gallery' },
      { id: 'contact', name: 'Contact' }
    ]
    ```

    4. **Styling approach:**
    - Use Tailwind CSS classes (via @nuxt/ui)
    - Sticky positioning: `position: sticky; top: 0; z-index: 1000`
    - Backdrop blur for scrolled state: `backdrop-filter: blur(8px)`
    - Mobile breakpoint: `md:hidden` for hamburger, `md:flex` for desktop nav
    - Shadow when scrolled: conditional class binding

    5. **Accessibility:**
    - Button element for hamburger with aria-label and aria-expanded
    - Nav element with aria-label for main navigation
    - Keyboard navigable links (tabindex not needed, links are focusable by default)

    DO NOT add brand colors yet. Use neutral grays for now. Colors will be applied in Phase 2.

    Use @nuxt/ui components where appropriate (UButton for hamburger).
  </action>
  <verify>
    1. Check Navigation.vue exists with sticky positioning class
    2. Check scroll event listener is added in onMounted
    3. Check scrollIntoView is called with smooth behavior
    4. Check hamburger button has proper aria-label and aria-expanded
    5. Run `npm run dev` - no Vue/TypeScript errors
  </verify>
  <done>
    Navigation component created with:
    - Sticky positioning with top: 0 and z-index: 1000
    - Scroll event handler updating isScrolled and activeSection
    - Smooth scroll to sections via scrollIntoView
    - Mobile hamburger menu with aria attributes
    - Desktop nav hidden on mobile, hamburger hidden on desktop
  </done>
</task>

<task type="auto">
  <name>Create default layout and footer placeholder</name>
  <files>
    layouts/default.vue
    components/AppFooter.vue
  </files>
  <action>
    Create layouts/default.vue with:
    1. Navigation component at top
    2. Main content slot
    3. AppFooter component at bottom
    4. Proper semantic HTML (header, main, footer)

    Structure:
    ```vue
    <template>
      <div class="min-h-screen flex flex-col">
        <header>
          <Navigation />
        </header>

        <main class="flex-grow">
          <slot />
        </main>

        <footer>
          <AppFooter />
        </footer>
      </div>
    </template>
    ```

    Create components/AppFooter.vue with:
    1. Placeholder structure for legal disclaimers (will be populated in plan 01-03)
    2. Container with max-width for content centering
    3. Basic padding and styling

    Structure:
    ```vue
    <template>
      <footer class="bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4">
          <!-- Legal disclaimers will be added in plan 01-03 -->
          <div class="text-sm text-gray-400 mb-4">
            <p>Legal disclaimers placeholder</p>
          </div>
        </div>
      </footer>
    </template>
    ```

    DO NOT add actual legal disclaimers yet - that happens in plan 01-03.
  </action>
  <verify>
    1. Check layouts/default.vue exists with Navigation and AppFooter
    2. Check AppFooter.vue exists with placeholder structure
    3. Check semantic HTML (header, main, footer elements used)
    4. Run `npm run dev` - layout renders correctly
  </verify>
  <done>
    Default layout created with:
    - Navigation component in header
    - Main content area with flex-grow
    - AppFooter component in footer
    - Semantic HTML structure
    - Footer placeholder ready for disclaimers
  </done>
</task>

</tasks>

<verification>
1. Run `npm run dev` and verify navigation appears at top of page
2. Scroll down - verify navigation stays visible (sticky)
3. Scroll down further - verify shadow appears when scrolled
4. Click navigation links - verify smooth scroll to sections
5. Resize browser to mobile width - verify hamburger appears
6. Click hamburger - verify mobile menu opens
7. Click mobile menu link - verify menu closes and page scrolls
8. Use Tab key - verify focus is visible on all interactive elements
</verification>

<success_criteria>
- Sticky navigation bar that stays visible while scrolling
- Smooth scroll to sections when nav links are clicked
- Active section is highlighted in navigation as user scrolls
- Mobile hamburger menu appears on screens < 768px
- Mobile menu opens and closes correctly
- All interactive elements are keyboard accessible
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-compliance/01-02-SUMMARY.md`
</output>
