# Phase 3 Research: Performance & SEO

**Phase:** 3 - Performance & SEO
**Research Date:** 2026-02-24
**Objective:** What do I need to know to PLAN this phase well?

---

## Executive Summary

Phase 3 focuses on achieving Core Web Vitals passing scores and optimizing the site for search engines. This phase addresses two unmet requirements (PERF-01, PERF-02) after Phases 1 and 2 completed all foundational and content work. The key optimization areas are (1) Image optimization with @nuxt/image including WebP/AVIF conversion and lazy loading, (2) Performance tuning for Core Web Vitals (LCP, INP, CLS), (3) SEO meta tags enhancement, and (4) Final accessibility and mobile responsiveness verification.

**Key Finding:** The @nuxt/image module is already configured but not actively used in components. The existing images are SVG placeholders (not real photos), which presents an optimization opportunity. Core Web Vitals targets are LCP < 2.5s, INP < 200ms, CLS < 0.1. Sitemap.xml and robots.txt are already being generated by @nuxtjs/seo.

**Project Context:** Phases 1 (5 plans) and 2 (7 plans) are complete. Average execution time per plan is 9.5 minutes. At this rate, Phase 3's estimated 2-3 plans could be completed in ~20-30 minutes of focused work.

---

## 1. Current State Assessment

### What's Already Complete (from Phases 1 & 2)

| Item | Status | Notes |
|------|--------|-------|
| Nuxt 4 with static generation | Complete | `nitro.preset: 'static'` configured |
| @nuxt/image module | Installed | Configured but not actively used in components |
| @nuxtjs/seo module | Installed | Generates sitemap.xml and robots.txt |
| Sitemap.xml | Generated | `/sitemap.xml` contains homepage with image references |
| Robots.txt | Generated | `/robots.txt` allows all crawlers |
| Meta tags | Partial | Basic title and description in `pages/index.vue` |
| Image presets | Configured | `galleryThumb` and `galleryFull` presets defined |
| Responsive breakpoints | Defined | Tailwind screens configured |

### What Needs to Be Addressed (PERF-01, PERF-02)

| Requirement | Description | Current Gap |
|-------------|-------------|-------------|
| PERF-01 | Core Web Vitals passing scores | Need to measure and optimize LCP, INP, CLS |
| PERF-02 | Load in under 3 seconds on 4G mobile | Need to test and optimize bundle size |
| FND-04 | All images optimized with WebP/AVIF | @nuxt/image not used, images are SVG placeholders |

### Current Image Configuration

**nuxt.config.ts image configuration:**
```typescript
image: {
  quality: 80,
  formats: ['webp', 'avif', 'jpeg'],
  screens: {
    xs: 320, sm: 640, md: 768, lg: 1024, xl: 1280, xxl: 1536
  },
  presets: {
    galleryThumb: {
      width: 400, height: 400, fit: 'cover', quality: 75, format: 'webp'
    },
    galleryFull: {
      width: 1200, quality: 85, format: 'webp'
    }
  }
}
```

### Current Component Image Usage

**HeroSection.vue:** Uses standard `<img>` tag, not `<NuxtImg>`:
```vue
<img
  :src="heroContent.photo"
  :alt="heroContent.photoAlt"
  width="600"
  height="800"
  loading="eager"
  fetchpriority="high"
  class="rounded-2xl shadow-2xl ..."
/>
```

**Issue:** This bypasses @nuxt/image optimization. Should be converted to `<NuxtImg>`.

---

## 2. Core Web Vitals (PERF-01)

### What You Need to Know

Core Web Vitals are Google's performance metrics for user experience. All three must pass for "good" status.

### Metric Thresholds

| Metric | Good | Needs Improvement | Poor |
|--------|------|-------------------|------|
| **LCP** (Largest Contentful Paint) | < 2.5s | 2.5s - 4.0s | > 4.0s |
| **INP** (Interaction to Next Paint) | < 200ms | 200ms - 500ms | > 500ms |
| **CLS** (Cumulative Layout Shift) | < 0.1 | 0.1 - 0.25 | > 0.25 |

**Note:** As of 2025, INP carries 40% weight in Core Web Vitals scoring, making it the most heavily weighted metric.

### LCP Optimization for Campaign Site

**What is LCP:** Time to render the largest content element (usually the hero image).

**Current LCP Impact:**
- Hero image: `/images/candidate-portrait.svg` (SVG, ~3.8KB)
- Loading: `loading="eager"` (correct for LCP element)
- Fetch Priority: `fetchpriority="high"` (correct)

**Optimization Strategies:**

1. **Preconnect to image domains** (if using CDN):
```vue
<!-- In app.vue or layout -->
<link rel="preconnect" href="https://cdn.example.com" />
```

2. **Use NuxtImg with proper sizing:**
```vue
<NuxtImg
  src="/images/candidate-portrait.jpg"
  :sizes="xs:400px sm:600px md:800px"
  width="800"
  height="1067"
  loading="eager"
  fetchpriority="high"
  preset="hero"
  format="webp"
/>
```

3. **Add hero preset to nuxt.config.ts:**
```typescript
image: {
  presets: {
    hero: {
      width: 800,
      height: 1067,
      fit: 'cover',
      quality: 85,
      format: 'webp'
    }
  }
}
```

### INP Optimization

**What is INP:** Measures responsiveness to user interactions (clicks, taps, keyboard).

**Campaign Site INP Considerations:**
- Navigation scroll handlers
- Mobile menu toggle
- Gallery lightbox interactions
- Donate button clicks

**Optimization Strategies:**

1. **Use passive event listeners for scroll:**
```typescript
// Navigation.vue
onMounted(() => {
  window.addEventListener('scroll', handleScroll, { passive: true })
})
```

2. **Debounce scroll handlers:**
```typescript
import { debounce } from 'lodash-es' // or implement simple debounce

const handleScroll = debounce(() => {
  isScrolled.value = window.scrollY > 50
  // Update active section
}, 100)
```

3. **Avoid layout thrashing:**
```typescript
// BAD: Causes layout thrashing
const handleScroll = () => {
  for (const section of sections) {
    const el = document.getElementById(section)
    if (el && window.scrollY >= el.offsetTop - 100) { // Reading offsetTop triggers layout
      activeSection.value = section
    }
  }
}

// GOOD: Cache positions
let sectionPositions: Map<string, number> = new Map()

onMounted(() => {
  // Cache positions once
  for (const section of sections) {
    const el = document.getElementById(section)
    if (el) sectionPositions.set(section, el.offsetTop)
  }
})

const handleScroll = () => {
  const scrollY = window.scrollY
  for (const [section, top] of sectionPositions) {
    if (scrollY >= top - 100) {
      activeSection.value = section
    }
  }
}
```

### CLS Optimization

**What is CLS:** Measures visual stability (layout shifts during loading).

**Campaign Site CLS Risks:**
- Images without dimensions
- Fonts causing layout shift
- Dynamically inserted content

**Current Status:**
- Hero image has width/height attributes (GOOD)
- Gallery images should have aspect ratios

**Optimization Strategies:**

1. **Ensure all images have dimensions:**
```vue
<NuxtImg
  src="/gallery/photo.jpg"
  width="400"
  height="400"
  loading="lazy"
/>
```

2. **Use aspect-ratio CSS for placeholders:**
```css
.image-container {
  aspect-ratio: 3 / 4; /* Portrait photo ratio */
  background: #f0fdfa;
}
```

3. **Font loading strategy:**
```vue
<!-- In app.vue head -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<style>
@font-face {
  font-family: 'Custom Font';
  font-display: swap; /* Prevents invisible text */
}
</style>
```

---

## 3. Image Optimization with @nuxt/image (FND-04)

### What You Need to Know

The @nuxt/image module is installed and configured but not actively used. Components use standard `<img>` tags, bypassing optimization.

### Component Conversion Checklist

| Component | Current Image Usage | Needs Conversion |
|-----------|---------------------|------------------|
| HeroSection.vue | `<img>` for candidate photo | Yes - LCP critical |
| GallerySection.vue | Standard images | Yes - Multiple images |
| GalleryLightbox.client.vue | Standard images | Yes - Lightbox images |
| MembersSection.vue | Standard images | Yes - Team photos |

### NuxtImg Implementation Pattern

**Basic usage:**
```vue
<NuxtImg
  src="/path/to/image.jpg"
  alt="Descriptive alt text"
  width="600"
  height="800"
  loading="lazy"
  format="webp"
/>
```

**Responsive images with sizes:**
```vue
<NuxtImg
  src="/candidate.jpg"
  :sizes="xs:100vw sm:50vw md:400px"
  srcset="/candidate-small.jpg 400w,
          /candidate-medium.jpg 800w,
          /candidate-large.jpg 1200w"
  alt="Xzandria Armstrong"
/>
```

**Using presets:**
```vue
<NuxtImg
  src="/gallery/rally.jpg"
  preset="galleryThumb"
  loading="lazy"
  alt="Campaign rally at Houston County Fair"
/>
```

### SVG vs Raster Images

**Current Situation:** All images are SVG placeholders. SVGs are not processed by @nuxt/image for format conversion.

**Migration Strategy:**

1. **Replace SVG placeholders with real photos** (JPG/PNG/WEBP)
2. **Configure @nuxt/image to process real images**
3. **Keep SVG for icons/graphics** (don't need optimization)

### Lazy Loading Strategy

**Hero image (LCP element):**
```vue
<NuxtImg
  src="/candidate.jpg"
  loading="eager"      <!-- Load immediately -->
  fetchpriority="high" <!-- High priority -->
/>
```

**Gallery images (below fold):**
```vue
<NuxtImg
  src="/gallery/photo.jpg"
  loading="lazy"       <!-- Defer loading -->
  fetchpriority="auto"
/>
```

---

## 4. SEO Enhancement (PERF-03, PERF-04)

### What's Already Generated

The @nuxtjs/seo module automatically generates:
- `sitemap.xml` - Lists all pages with images
- `robots.txt` - Allows all crawlers, references sitemap
- Basic meta tags - Title and description

### Current Meta Tags

**In pages/index.vue:**
```vue
useHead({
  title: 'Home - Xzandria Armstrong for Houston County',
  meta: [
    {
      name: 'description',
      content: 'Leadership for Houston County, GA. Support Xzandria Armstrong\'s campaign for progress, integrity, and community.'
    }
  ]
})
```

### Recommended SEO Enhancements

**Add Open Graph tags:**
```vue
useHead({
  title: 'Xzandria Armstrong for Houston County - Leadership for Our Community',
  meta: [
    { name: 'description', content: '...' },
    // Open Graph
    { property: 'og:type', content: 'website' },
    { property: 'og:site_name', content: 'Xzandria Armstrong for Houston County' },
    { property: 'og:title', content: 'Xzandria Armstrong for Houston County' },
    { property: 'og:description', content: 'Leadership for Houston County, GA. Support Xzandria Armstrong\'s campaign.' },
    { property: 'og:image', content: '/images/candidate-portrait.jpg' },
    { property: 'og:url', content: 'https://armstrongforhouston.com' },
    // Twitter Card
    { name: 'twitter:card', content: 'summary_large_image' },
    { name: 'twitter:title', content: 'Xzandria Armstrong for Houston County' },
    { name: 'twitter:description', content: 'Leadership for Houston County, GA.' },
    { name: 'twitter:image', content: '/images/candidate-portrait.jpg' }
  ],
  link: [
    { rel: 'canonical', href: 'https://armstrongforhouston.com/' }
  ]
})
```

### Sitemap Considerations

**Current sitemap structure:**
```xml
<url>
  <loc>https://armstrongforhouston.com/</loc>
  <image:image>
    <image:loc>https://armstrongforhouston.com/images/candidate-portrait.svg</image:loc>
  </image:image>
  <!-- Team member images -->
</url>
```

**Note:** Single-page site means only one URL in sitemap. This is correct and expected.

### Local SEO for Political Campaigns

**Schema.org markup for Person/Politician:**
```vue
useSchemaOrg([
  definePerson({
    name: 'Xzandria Armstrong',
    jobTitle: 'Candidate for Houston County',
    worksFor: {
      type: 'Organization',
      name: 'Armstrong for Houston County Committee'
    },
    image: 'https://armstrongforhouston.com/images/candidate-portrait.jpg'
  })
])
```

---

## 5. Performance Testing Tools

### Lighthouse (Chrome DevTools)

**How to run:**
1. Open Chrome DevTools (F12)
2. Go to Lighthouse tab
3. Select "Mobile" or "Desktop"
4. Click "Analyze page load"

**Target scores:**
- Performance: 90+
- Accessibility: 95+
- Best Practices: 90+
- SEO: 95+

### WebPageTest

**URL:** https://www.webpagetest.org

**Test configuration:**
- Test Location: Georgia, USA (closest to target audience)
- Browser: Chrome on Mobile 4G
- Connection: 4G (9 Mbps fast, 1.6 Mbps slow)

**Key metrics:**
- Time to First Byte (TTFB) < 600ms
- First Contentful Paint (FCP) < 1.8s
- Largest Contentful Paint (LCP) < 2.5s
- Total Blocking Time (TBT) < 200ms

### PageSpeed Insights

**URL:** https://pagespeed.web.dev

**Provides:**
- Lab data (synthetic testing)
- Field data (real user experiences from CrUX)
- Core Web Vitals assessment

---

## 6. Bundle Size Optimization

### Current Bundle Analysis

**To analyze bundle size:**
```bash
npm run build
npx nuxi analyze
```

**Look for:**
- Large vendor chunks (consider code splitting)
- Unused dependencies
- Duplicate modules

### Optimization Strategies

1. **Dynamic imports for heavy components:**
```vue
// Instead of: import HeavyComponent from './HeavyComponent.vue'
const HeavyComponent = defineAsyncComponent(() =>
  import('./HeavyComponent.vue')
)
```

2. **Tree shaking unused code:**
```typescript
// BAD: Import entire library
import * as _ from 'lodash'

// GOOD: Import specific functions
import { debounce } from 'lodash-es'
```

3. **Remove unused @nuxt/ui components:**
The @nuxt/ui module includes many components. If only using a few, consider:
- Using individual component imports
- Switching to lighter alternatives

---

## 7. Mobile Responsiveness Testing

### Current Responsive Breakpoints

| Breakpoint | Width | Target Devices |
|------------|-------|----------------|
| xs | 320px | Small phones |
| sm | 640px | Large phones |
| md | 768px | Tablets |
| lg | 1024px | Laptops |
| xl | 1280px | Desktops |
| xxl | 1536px | Large desktops |

### Testing Checklist

**Mobile (320px - 768px):**
- [ ] Hero text readable without horizontal scroll
- [ ] Navigation hamburger works correctly
- [ ] All sections stack vertically
- [ ] Tap targets minimum 44x44px
- [ ] Donate buttons accessible
- [ ] Gallery grid collapses to 2 columns

**Desktop (1024px+):**
- [ ] Navigation shows as horizontal menu
- [ ] Grid layouts display correctly
- [ ] No excessive whitespace

### Testing Tools

- Chrome DevTools: Device emulation (Cmd+Shift+M)
- Real device testing: iOS Safari, Android Chrome
- BrowserStack: Cross-browser testing (if available)

---

## 8. Accessibility Verification (WCAG 2.1 AA)

### Already Verified (Phase 1)

Color contrast ratios were verified in Phase 1:
- Teal-800 + white: 5.2:1 (PASS)
- Yellow-500 + gray-900: ~10:1 (PASS)

### Additional Accessibility Checks

**Keyboard Navigation:**
- [ ] Tab order follows logical sequence
- [ ] Focus visible on all interactive elements
- [ ] Skip link works correctly
- [ ] Lightbox closes with Escape key

**Screen Reader:**
- [ ] All images have alt text
- [ ] Headings use proper nesting (h1 > h2 > h3)
- [ ] Form inputs have labels (when forms added)
- [ ] ARIA labels on social media links

**Motion:**
- [ ] `prefers-reduced-motion` respected for animations

---

## 9. 4G Mobile Performance Target (PERF-02)

### What "Under 3 seconds" Means

**Target:** Page fully loads within 3 seconds on 4G mobile connection.

**4G Network Characteristics:**
- Download: 9 Mbps
- Upload: 1.6 Mbps
- Latency: 100ms RTT

### Optimization Priority

1. **Reduce initial payload:**
   - Minimize JavaScript bundle size
   - Defer non-critical CSS
   - Lazy load images below fold

2. **Optimize critical rendering path:**
   - Inline critical CSS
   - Preload critical fonts
   - Preconnect to external domains

3. **Enable compression:**
   - Nuxt automatically enables gzip/brotli for static assets

### Weight Budgets

| Resource | Budget | Current (est.) |
|----------|--------|----------------|
| HTML | < 15 KB | TBD |
| CSS | < 50 KB | TBD |
| JS (initial) | < 200 KB | TBD |
| Images (initial) | < 300 KB | TBD |
| Total | < 600 KB | TBD |

---

## 10. DigitalOcean Deployment Optimization

### Current Deployment

**Location:** http://159.203.104.116
**Configuration:** Static files served by Nginx

### Nginx Optimization

**Recommended headers (add to server config):**
```nginx
# Enable gzip compression
gzip on;
gzip_types text/plain text/css application/json application/javascript text/xml;
gzip_min_length 1000;

# Cache static assets
location ~* \.(jpg|jpeg|png|gif|ico|css|js|webp|avif)$ {
  expires 1y;
  add_header Cache-Control "public, immutable";
}

# Security headers
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;
```

### CDN Considerations

**Current:** No CDN. Files served directly from DigitalOcean droplet.

**Optional Enhancement:** DigitalOcean Spaces CDN
- Upload static assets to Spaces
- Enable CDN distribution
- Faster delivery globally

**Decision:** Defer to post-launch if needed. Static site with Georgia-focused audience doesn't strictly require CDN.

---

## 11. Political Campaign SEO Specifics

### Local SEO for Houston County, GA

**Key geographic terms to include:**
- "Houston County"
- "Warner Robins"
- "Georgia"
- "GA" (abbreviation)

**Content optimization:**
- Ensure these terms appear naturally in headings and body text
- Include location in meta description
- Consider adding address schema when physical office is established

### Election Timing SEO

**Strategy:**
- Publish content before March 7 deadline
- Submit sitemap to Google Search Console immediately
- Monitor for indexing of candidate name

### Search Console Setup

**Steps:**
1. Create Google Search Console account
2. Verify ownership via HTML file upload or DNS
3. Submit sitemap.xml
4. Monitor for crawl errors
5. Track Core Web Vitals data

---

## Planning Checklist for Phase 3

Use this checklist when creating implementation plans:

### Plan 03-01: Image Optimization
- [ ] Convert HeroSection.vue to use NuxtImg
- [ ] Convert GallerySection.vue to use NuxtImg
- [ ] Convert MembersSection.vue to use NuxtImg
- [ ] Convert GalleryLightbox.client.vue to use NuxtImg
- [ ] Add hero preset to nuxt.config.ts
- [ ] Verify WebP/AVIF format support
- [ ] Test lazy loading behavior
- [ ] Confirm all images have alt text

### Plan 03-02: Performance Tuning
- [ ] Run Lighthouse audit (baseline)
- [ ] Optimize LCP (hero image preloading)
- [ ] Optimize INP (debounce scroll handlers)
- [ ] Optimize CLS (reserve space for images)
- [ ] Analyze bundle size
- [ ] Implement code splitting if needed
- [ ] Add compression headers to Nginx
- [ ] Run Lighthouse audit (verify improvement)

### Plan 03-03: SEO Enhancement & Verification
- [ ] Add Open Graph meta tags
- [ ] Add Twitter Card meta tags
- [ ] Add canonical URL
- [ ] Add Schema.org Person markup
- [ ] Test sitemap.xml accessibility
- [ ] Test robots.txt accessibility
- [ ] Run mobile responsiveness test
- [ ] Run final WCAG 2.1 AA verification
- [ ] Submit to Google Search Console

---

## Dependencies & Blockers

### Internal Dependencies

Phase 3 depends on Phase 1 and 2 completion:
- [x] All components built (Phase 2)
- [x] Navigation with scroll handler (Phase 1/2)
- [x] Gallery with lightbox (Phase 2)
- [x] @nuxt/image configured (Phase 1)

### External Dependencies

| Dependency | Type | Required For | Notes |
|------------|------|--------------|-------|
| Real campaign photos | Content | Image optimization | Current SVGs don't need optimization |
| Production domain | Infrastructure | SEO config | Currently using placeholder URL |
| Google Search Console | Verification | SEO monitoring | Free, needs setup |
| Lighthouse/DevTools | Testing | Performance measurement | Built into Chrome |

### Potential Blockers

1. **No real photos yet** - Can only optimize structure, not actual images
2. **Production domain not configured** - SEO testing limited to localhost/IP
3. **DigitalOcean droplet access** - May need server access for Nginx config

**Mitigation:** Complete structural optimization now. Re-optimize when real photos and domain are available.

---

## Risk Assessment

| Risk | Impact | Probability | Mitigation |
|------|--------|-------------|------------|
| Core Web Vitals failing | MEDIUM (SEO ranking) | LOW (simple site) | Use Nuxt best practices, test early |
| Images not optimized | MEDIUM (performance) | HIGH (not using module) | Convert all img to NuxtImg |
| Bundle size too large | LOW (4G target) | LOW (minimal dependencies) | Tree shake, code split if needed |
| Mobile layout issues | HIGH (UX) | MEDIUM | Test on real devices |
| LCP > 2.5s | HIGH (SEO) | LOW | Hero image is small SVG |

---

## Open Questions for Planning

1. **When will real campaign photos** replace the SVG placeholders?
2. **What is the production domain** for final SEO configuration?
3. **Who has access to the DigitalOcean droplet** for Nginx configuration?
4. **Should we set up Google Search Console** during this phase or defer to campaign?
5. **Are there additional meta tags** needed for political campaign compliance?

---

## Sources

### Official Documentation (HIGH Confidence)
- Nuxt 4 Documentation - https://nuxt.com (framework core, performance)
- @nuxt/image Documentation - https://image.nuxt.com (image optimization module)
- @nuxtjs/seo Documentation - https://nuxtseo.com (sitemap, robots, meta tags)
- Google Core Web Vitals - https://web.dev/vitals/ (LCP, INP, CLS thresholds)

### Performance & SEO (MEDIUM Confidence)
- WebPageTest - https://www.webpagetest.org (mobile performance testing)
- PageSpeed Insights - https://pagespeed.web.dev (Google's performance tool)
- Google Search Console - https://search.google.com/search-console (SEO monitoring)

### Technical Implementation (MEDIUM Confidence)
- Chrome DevTools Lighthouse - Built-in browser performance audit
- Nuxt Performance Best Practices - Various 2025 articles on Nuxt 4 optimization
- WebAIM Contrast Checker - https://webaim.org/resources/contrastchecker/

### Political Campaign SEO (LOW Confidence)
- Political campaign SEO best practices - Industry-specific recommendations
- Local SEO for geographic targeting - Houston County, GA focus

### Unverified / Needs Validation (LOW Confidence)
- Exact performance targets for 4G mobile in 2025 - "Under 3 seconds" is general guideline
- Political campaign-specific SEO requirements - FEC doesn't regulate SEO directly

---

*Research completed: 2026-02-24*
*Next step: Create implementation plans based on this research*
