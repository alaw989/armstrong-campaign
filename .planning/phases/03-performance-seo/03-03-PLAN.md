---
phase: 03-performance-seo
plan: 03
type: execute
wave: 3
depends_on:
  - 03-02
files_modified:
  - .planning/phases/03-performance-seo/03-VERIFICATION.md
autonomous: false
requirements:
  - PERF-01
  - PERF-02

must_haves:
  truths:
    - "Site loads in under 3 seconds on 4G mobile connection (tested via Lighthouse/WebPageTest)"
    - "Core Web Vitals passing scores achieved (LCP < 2.5s, INP < 200ms, CLS < 0.1)"
    - "All pages include proper meta tags for SEO (title, description, Open Graph)"
    - "Sitemap.xml and robots.txt are accessible and properly configured"
    - "Site is fully mobile-responsive and passes WCAG 2.1 Level AA accessibility standards"
  artifacts:
    - path: ".planning/phases/03-performance-seo/03-VERIFICATION.md"
      provides: "Final verification results with Lighthouse scores and checklist"
      min_lines: 50
    - path: ".output/public/sitemap.xml"
      provides: "Sitemap for search engine discovery"
      contains: "urlset|loc"
    - path: ".output/public/robots.txt"
      provides: "Robots.txt for crawler instructions"
      contains: "User-agent|Sitemap"
  key_links:
    - from: ".planning/phases/03-performance-seo/03-VERIFICATION.md"
      to: ".output/public"
      via: "Generated static files verification"
      pattern: "sitemap.xml|robots.txt"
---

<objective>
Perform final performance testing, SEO verification, and accessibility audit to confirm all Phase 3 requirements are met before launch.

Purpose: This is the final verification plan — validates that all optimizations from previous plans achieve the target metrics and the site is ready for launch.

Output: Completed verification document with Lighthouse scores, Core Web Vitals metrics, SEO checklist, and accessibility audit results.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/03-performance-seo/03-RESEARCH.md
@.planning/phases/03-performance-seo/03-01-SUMMARY.md
@.planning/phases/03-performance-seo/03-02-SUMMARY.md
@.planning/phases/01-foundation-compliance/01-VERIFICATION.md

# Phase 3 Requirements (from REQUIREMENTS.md)
- PERF-01: Core Web Vitals passing scores (LCP < 2.5s, INP < 200ms, CLS < 0.1)
- PERF-02: Site loads in under 3 seconds on 4G mobile connection

# Additional Requirements (already completed in earlier phases)
- PERF-03: Meta tags for SEO (title, description, Open Graph) — completed in 03-02
- PERF-04: Sitemap.xml and robots.txt — already generated by @nuxtjs/seo
- FND-04: Image optimization — completed in 03-01

# Verification Template
Use .planning/phases/01-foundation-compliance/01-VERIFICATION.md as a template structure.

# Testing Tools (from 03-RESEARCH.md)
- Lighthouse (Chrome DevTools) — Performance, Accessibility, Best Practices, SEO scores
- PageSpeed Insights (https://pagespeed.web.dev) — Lab + Field data
- WebPageTest (https://www.webpagetest.org) — 4G mobile testing
- Manual mobile responsiveness check (Chrome DevTools device emulation)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate static build and verify sitemap/robots.txt</name>
  <files>.output/public/sitemap.xml, .output/public/robots.txt</files>
  <action>
Generate the static site and verify SEO files:

1. Run the static build:
   ```bash
   npm run generate
   ```

2. Verify sitemap.xml exists and check content:
   ```bash
   cat .output/public/sitemap.xml
   ```

3. Verify robots.txt exists and check content:
   ```bash
   cat .output/public/robots.txt
   ```

4. Check index.html for meta tags:
   ```bash
   grep -E "og:|twitter:|canonical" .output/public/index.html
   ```

Expected results:
- sitemap.xml contains homepage URL with proper xmlns namespace
- robots.txt allows all crawlers and references sitemap.xml
- index.html contains Open Graph tags, Twitter Card tags, and canonical link
- All meta tags have proper content values

Document any issues in the verification file.
  </action>
  <verify>
    .output/public directory contains sitemap.xml and robots.txt files. Output of cat commands shows valid XML and proper robots.txt structure.
  </verify>
  <done>
    Static site generated successfully. Sitemap.xml and robots.txt are present and properly formatted. Meta tags are present in generated HTML.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create verification document with checklist structure</name>
  <files>.planning/phases/03-performance-seo/03-VERIFICATION.md</files>
  <action>
Create .planning/phases/03-performance-seo/03-VERIFICATION.md with the following structure:

```markdown
# Phase 3 Verification: Performance & SEO

**Verification Date:** 2026-02-XX
**Phase:** 03 - Performance & SEO
**Plans Completed:** 03-01, 03-02
**Build Output:** .output/public/

---

## Requirements Verification

### PERF-01: Core Web Vitals Passing Scores

| Metric | Target | Actual | Status |
|--------|--------|--------|--------|
| LCP (Largest Contentful Paint) | < 2.5s | TBD | [ ] |
| INP (Interaction to Next Paint) | < 200ms | TBD | [ ] |
| CLS (Cumulative Layout Shift) | < 0.1 | TBD | [ ] |

**Test Method:** Chrome DevTools Lighthouse audit (Mobile 4G)

### PERF-02: Load in Under 3 Seconds on 4G Mobile

| Metric | Target | Actual | Status |
|--------|--------|--------|--------|
| Time to Interactive | < 3s | TBD | [ ] |
| Speed Index | < 3.4s | TBD | [ ] |
| Total Blocking Time | < 200ms | TBD | [ ] |

**Test Method:** Lighthouse Performance audit

---

## Image Optimization Verification (FND-04)

### Component Image Conversion

- [ ] HeroSection.vue uses NuxtImg with hero preset
- [ ] GallerySection.vue uses NuxtImg with galleryThumb preset
- [ ] MembersSection.vue uses NuxtImg with lazy loading
- [ ] GalleryLightbox.client.vue uses NuxtImg with galleryFull preset
- [ ] All images have explicit width/height dimensions
- [ ] All images have descriptive alt text
- [ ] Hero image has loading="eager" and fetchpriority="high"
- [ ] Below-fold images have loading="lazy"

**Verification:** Component source code inspection

---

## SEO Enhancement Verification

### Meta Tags

- [ ] Title tag present and descriptive
- [ ] Description meta tag present
- [ ] Open Graph tags (og:type, og:site_name, og:title, og:description, og:image, og:url)
- [ ] Twitter Card tags (twitter:card, twitter:title, twitter:description, twitter:image)
- [ ] Canonical URL specified

**Verification:** View source of generated index.html

### Sitemap & Robots

- [ ] sitemap.xml accessible at /sitemap.xml
- [ ] robots.txt accessible at /robots.txt
- [ ] robots.txt references sitemap.xml
- [ ] Sitemap contains homepage URL

**Verification:** Build output inspection

---

## Performance Optimization Verification

### Scroll Handler (INP)

- [ ] Navigation.vue uses passive event listener
- [ ] Section positions cached on mount
- [ ] No offsetTop reads during scroll
- [ ] Scroll is smooth without jank

**Verification:** Source code inspection + manual scroll test

### Font Loading (CLS)

- [ ] preconnect hints for Google Fonts present
- [ ] font-display: swap configured
- [ ] No visible font shift on load

**Verification:** Source code + visual inspection

### Resource Hints

- [ ] preconnect hints for fonts
- [ ] (Future) preconnect for CDN when using external images

---

## Mobile Responsiveness Verification

### Breakpoint Testing

- [ ] xs (320px): Hero text readable, no horizontal scroll
- [ ] sm (640px): Navigation hamburger works
- [ ] md (768px): Layout switches to tablet view
- [ ] lg (1024px): Desktop navigation visible
- [ ] xl (1280px): No excessive whitespace

### Interactive Elements

- [ ] Tap targets minimum 44x44px
- [ ] Donate buttons accessible on mobile
- [ ] Mobile menu toggles correctly
- [ ] Gallery grid collapses to 2 columns on mobile

**Verification:** Chrome DevTools device emulation

---

## Accessibility Verification (WCAG 2.1 AA)

### Color Contrast

- [ ] Teal-800 + white: 5.2:1 (PASS)
- [ ] Yellow-500 + gray-900: ~10:1 (PASS)
- [ ] All text combinations meet 4.5:1 minimum

### Keyboard Navigation

- [ ] Tab order follows logical sequence
- [ ] Focus visible on all interactive elements
- [ ] Skip to content link available (if implemented)
- [ ] Lightbox closes with Escape key

### Screen Reader

- [ ] All images have alt text
- [ ] Headings use proper nesting (h1 > h2)
- [ ] ARIA labels on social media links
- [ ] Buttons have descriptive labels

**Verification:** Lighthouse Accessibility audit + manual testing

---

## Final Checklist

### Performance & SEO

- [ ] Lighthouse Performance score >= 90
- [ ] Lighthouse Accessibility score >= 95
- [ ] Lighthouse Best Practices score >= 90
- [ ] Lighthouse SEO score >= 95
- [ ] Core Web Vitals all passing (green)

### Launch Readiness

- [ ] All PERF-01 and PERF-02 requirements met
- [ ] No console errors in production build
- [ ] All images load without 404s
- [ ] All links navigate correctly
- [ ] Donate CTAs link to correct external URL
- [ ] Legal disclaimers present in footer

---

## Verification Summary

**Overall Status:** [ ] PASS / [ ] FAIL

**Passing Requirements:** X/2 (PERF-01, PERF-02)

**Issues Found:**
- (List any issues preventing launch)

**Recommendations:**
- (List any improvements for post-launch)

**Next Steps:**
- If all requirements PASS: Site is ready for launch
- If any requirements FAIL: Create gap closure plan

---

*Verification completed: 2026-02-XX*
```

This creates the template for the checkpoint verification.
  </action>
  <verify>
    File .planning/phases/03-performance-seo/03-VERIFICATION.md exists with the structure specified above.
  </verify>
  <done>
    Verification document template created with all checklists for Performance, SEO, Mobile, and Accessibility verification.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 3: Human verification of performance and SEO optimizations</name>
  <files>.output/public/</files>
  <what-built>Complete Phase 3 optimization work:
  - Image optimization with NuxtImg (03-01)
  - Performance tuning (scroll handler, meta tags, fonts) (03-02)
  - Verification document template (03-03 Task 2)

Static build generated at .output/public/ with sitemap.xml and robots.txt.</what-built>
  <how-to-verify>
Run the following verification steps and provide results:

**1. Lighthouse Audit (Required):**
   - Open Chrome DevTools (F12)
   - Go to Lighthouse tab
   - Select "Mobile" device
   - Uncheck "Clear storage" (for accurate caching)
   - Click "Analyze page load"
   - Report: Performance score, LCP, INP, CLS values

**2. Visual Inspection (Required):**
   - Open http://localhost:3000 (or view .output/public/index.html)
   - Check: Hero image loads quickly, no layout shift on load
   - Check: Scroll smoothly through all sections, nav highlights update
   - Check: Mobile view — hamburger menu works, layout responsive

**3. Meta Tags Check (Quick):**
   - Right-click page → View Page Source
   - Search for "og:" — should see Open Graph tags
   - Search for "twitter:" — should see Twitter Card tags

**4. Verify Build Output:**
   ```bash
   ls -la .output/public/
   ```
   Should see: index.html, sitemap.xml, robots.txt

Report your Lighthouse scores and any visual issues noticed.
  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe issues found</resume-signal>
</task>

<task type="auto">
  <name>Task 4: Complete verification document with actual test results</name>
  <files>.planning/phases/03-performance-seo/03-VERIFICATION.md</files>
  <action>
Update the verification document with actual test results from the human checkpoint:

1. Update the TBD values in the tables with actual Lighthouse scores
2. Mark checkboxes as [x] for passing items
3. Document any issues found in the Issues Found section
4. Set overall status based on results

If all requirements pass:
- Set "Overall Status: PASS"
- Note "No issues blocking launch"

If any requirements fail:
- Set "Overall Status: FAIL"
- Document specific failures in Issues Found
- Recommend whether gap closure plan is needed

This is the final record of Phase 3 completion and launch readiness.
  </action>
  <verify>
    Verification document has actual Lighthouse scores filled in (no TBD values), checkboxes marked appropriately, and overall status set.
  </verify>
  <done>
    Verification document complete with actual test results. Phase 3 status documented with clear launch readiness determination.
  </done>
</task>

</tasks>

<verification>
Overall verification steps:

1. Build verification: Static site generated without errors
2. SEO files: sitemap.xml and robots.txt present and valid
3. Lighthouse audit: Performance >= 90, Accessibility >= 95, SEO >= 95
4. Core Web Vitals: LCP < 2.5s, INP < 200ms, CLS < 0.1
5. Mobile test: Responsive at all breakpoints, touch targets >= 44px
6. Manual visual check: No layout shift, smooth scrolling, proper image loading
</verification>

<success_criteria>
1. Lighthouse Performance score >= 90 (or documented reason if lower)
2. Core Web Vitals passing scores (LCP < 2.5s, INP < 200ms, CLS < 0.1)
3. Meta tags present (Open Graph, Twitter Card, canonical)
4. Sitemap.xml and robots.txt accessible
5. Site fully mobile responsive
6. WCAG 2.1 AA accessibility verified
7. Verification document complete with all checkboxes marked
</success_criteria>

<output>
After completion, create `.planning/phases/03-performance-seo/03-03-SUMMARY.md` documenting:
- Final Lighthouse scores
- Core Web Vitals results
- Any issues found and resolution
- Launch readiness determination
- Phase 3 completion time
</output>
